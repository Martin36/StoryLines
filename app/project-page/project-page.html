<ng-include src="'sidebar/sidebar.html'" ng-controller="SidebarController"></ng-include>

<div class="our-content">
  <!-- TODO: Show board title -->
  <div class="columns">
    <!-- Board title with edit button -->
    <div class="column has-text-centered">
      <input ng-model="board.name" ng-init="editMode=false" ng-disabled="!editMode"
             ng-blur="saveTitle()" focus-me="isOpen"
             class="title is-3 has-text-centered" size="{{board.name.length}}">
        <span ng-click="editTitle()" class="icon is-medium">
          <i class="fa fa-pencil"></i>
        </span>
      </input>
    </div>
  </div>

  <!--Display the different lists -->
  <!-- TODO: Filter to show only the four lists -->
  <div class="columns">
    <div class="column has-text-centered" ng-repeat="list in board.lists">
      <span ng-if="isValidList(list.name)">
        <p class="title is-4 board">
          {{list.name}}
        </p>
        <!-- Go through all cards -->
        <span ng-repeat="card in board.cards">
          <!-- Only show cards that are assigned to this list -->
          <span ng-if="card.idList==list.id">
            <div class="column is-12">
              <div class="card fixed-height-card">
                <span>
                  {{card.name}}
                </span>
              </div>
            </div>
          </span>
        </span>
        <a ng-click="addCard(list.name)" class="button addCard">
          <span class="icon is-medium">
            <i class="fa fa-plus-square"></i>
          </span>
        </a>
      </span>
    </div>
    <!-- End of boards repeat -->
  </div>
</div>
